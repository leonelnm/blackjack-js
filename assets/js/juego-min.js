const blackJackModule=(()=>{"use strict";let e=[];const t=["C","D","H","S"],n=["A","J","Q","K",..._.range(2,11)];let r=[];const l=document.querySelectorAll(".card-container"),s=document.querySelectorAll("small"),a=document.querySelector("#btnPedir"),c=document.querySelector("#btnDetener"),d=document.querySelector("#btnNuevo"),o=(e=2)=>{i(),r=[],s.forEach(e=>e.innerText=0),l.forEach(e=>e.innerHTML="");for(let t=0;t<e;t++)r.push(0);c.disabled=!1,a.disabled=!1,c.disabled=!1},i=()=>{e=[];for(const r of n)for(const n of t)e.push(r+n);return e=_.shuffle(e)},u=()=>{if(0===e.length)throw"No hay cartas en el deck";return e.pop()},b=e=>{let t=r.length-1,n=0;do{const e=u();n=h(e,t),f(e,t)}while(n<e&&e<=21);d.disabled=!1,m(n)},m=e=>{const t=r[0];e===t?alert("Empatados"):t>21||e<21&&e>t?alert("Computer win!"):alert("Player win!")},f=(e,t)=>{const n=document.createElement("img");n.src=`assets/cartas/${e}.png`,n.classList="carta",l[t].append(n)},h=(e,t)=>(r[t]+=((e,t)=>{const n=e.substring(0,e.length-1);return isNaN(n)?"A"===n?t+11<=21?11:1:10:1*n})(e,r[t]),s[t].innerHTML=r[t],r[t]);return a.addEventListener("click",()=>{const e=u(),t=h(e,0);f(e,0),t>21?(a.disabled=!0,c.disabled=!0,console.warn("Perdiste"),b(t)):21===t&&(c.disabled=!0,console.info("21, Genial"),a.disabled=!0,b(t))}),c.addEventListener("click",()=>{c.disabled=!0,d.disabled=!0,a.disabled=!0,b(r[0])}),d.addEventListener("click",()=>{o(2)}),{newGame:o}})();